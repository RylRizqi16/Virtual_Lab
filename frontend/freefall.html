<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulasi Jatuh Bebas</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="top-nav">
        <a class="brand" href="index.html" title="Beranda SimuLab">
            <span class="logo-dot"></span>
            <span>SimuLab</span>
        </a>
        <ul class="nav-links">
            <li><a class="link" href="pendulum.html">Bandul</a></li>
            <li><a class="link" href="freefall.html">Jatuh Bebas</a></li>
            <li><a class="link" href="projectile.html">Meriam</a></li>
            <li><button id="authButton" class="link outline" type="button">Masuk</button></li>
        </ul>
    </nav>

    <main class="view-container">
        <header class="experiment-hero">
            <div class="experiment-intro">
                <span class="badge accent">Jatuh Bebas</span>
                <h1>Simulasi Jatuh Bebas</h1>
                <p>Visualisasi gerak lurus berubah beraturan tanpa hambatan udara untuk berbagai ketinggian awal.</p>
                <div class="experiment-meta">
                    <div class="meta-item">
                        <div class="icon-circle small" aria-hidden="true">🎯</div>
                        <div>
                            <strong>Tujuan</strong>
                            <p>Mengaitkan ketinggian awal dengan waktu tempuh dan kecepatan sesaat.</p>
                        </div>
                    </div>
                    <div class="meta-item">
                        <div class="icon-circle small" aria-hidden="true">🧭</div>
                        <div>
                            <strong>Parameter</strong>
                            <p>Ketinggian awal, massa benda, dan gravitasi lokal.</p>
                        </div>
                    </div>
                    <a href="index.html" class="text-link">← Kembali ke Landing</a>
                </div>
            </div>
            <aside class="experiment-cta">
                <div class="saved-progress" id="savedFreefallCard">
                    <h3>Rangkuman Progres Tersimpan</h3>
                    <p id="savedFreefallSummary">Masuk untuk menyimpan dan melihat progres eksperimen.</p>
                </div>
                <button class="action-button primary" type="button" data-open-auth="experiment">Masuk / Sinkronkan</button>
            </aside>
        </header>
        <div class="lab-container">
            <section class="simulation-area">
                <canvas id="freefallCanvas" width="800" height="600"></canvas>
                <div class="info-overlay">
                    <p>Posisi (y): <span id="ffPos">--</span> m</p>
                    <p>Kecepatan (v): <span id="ffVel">--</span> m/s</p>
                    <p>Waktu (t): <span id="ffTime">--</span> s</p>
                </div>
            </section>
            <aside class="control-panel">
                <div class="quick-insight">
                    <h3>Insight Cepat</h3>
                    <ul class="bullet-list">
                        <li>Waktu jatuh ∝ √(2h/g) — perubahan ketinggian kecil memberi dampak signifikan.</li>
                        <li>Gunakan slider massa untuk mendiskusikan pengaruh hambatan udara yang diabaikan.</li>
                        <li>Catat v akhir untuk menghitung energi potensial awal.</li>
                    </ul>
                </div>

                <section class="quiz-card" id="freefallQuiz" aria-live="polite">
                    <h3>Quiz Jatuh Bebas</h3>
                    <p id="freefallQuizPrompt">Masuk untuk mendapatkan soal acak dan uji perhitungan Anda dengan simulasi.</p>
                    <div class="quiz-input">
                        <label for="freefallQuizAnswer">Jawaban Anda (detik)</label>
                        <input type="number" id="freefallQuizAnswer" step="0.01" min="0" placeholder="0.00" disabled>
                    </div>
                    <div class="quiz-actions">
                        <button id="freefallQuizSubmit" class="action-button primary" type="button" disabled>Kirim Jawaban</button>
                        <button id="freefallQuizRefresh" class="action-button secondary" type="button" disabled>Soal Baru</button>
                    </div>
                    <p id="freefallQuizFeedback" class="quiz-feedback" role="status"></p>
                    <div id="freefallQuizStats" class="quiz-stats">
                        <span>Upaya: <strong data-quiz-attr="attempts">0</strong></span>
                        <span>Benar: <strong data-quiz-attr="correct">0</strong> • Salah: <strong data-quiz-attr="incorrect">0</strong></span>
                    </div>
                </section>

                <h2>Kontrol</h2>
                <div class="control-group">
                    <label for="ffHeight">Ketinggian Awal (h):</label>
                    <input type="range" id="ffHeight" min="1" max="100" step="1" value="20">
                    <span id="ffHeightVal">20 m</span>
                </div>
                <div class="control-group">
                    <label for="ffMass">Massa (m):</label>
                    <input type="range" id="ffMass" min="0.1" max="10" step="0.1" value="1">
                    <span id="ffMassVal">1.0 kg</span>
                    <p class="note">Dalam model ideal, massa tidak memengaruhi waktu jatuh.</p>
                </div>
                <div class="control-group">
                    <label for="ffGravity">Gravitasi (g):</label>
                    <input type="range" id="ffGravity" min="1" max="20" step="0.1" value="9.81">
                    <span id="ffGravityVal">9.81 m/s²</span>
                </div>
                <button id="ffStart" class="action-button primary" type="button">Mulai</button>
                <button id="ffPause" class="action-button secondary" type="button">Pause</button>
                <button id="ffReset" class="action-button secondary" type="button">Reset</button>
                <div class="control-footer">
                    <button class="action-button outline" type="button" data-open-auth="experiment">Masuk untuk Simpan Data</button>
                    <a href="index.html" class="text-link">← Kembali ke Landing</a>
                </div>
            </aside>
        </div>
    </main>

    <footer class="site-footer">
    <p>© 2025 SimuLab</p>
    </footer>

    <div id="authModal" class="modal hidden" role="dialog" aria-modal="true">
        <div class="modal-content">
            <button class="modal-close" id="closeAuthModal" aria-label="Tutup">×</button>
            <div class="modal-header">
                <h2 id="authModalTitle">Masuk ke SimuLab</h2>
                <p id="authModalSubtitle">Gunakan akun Anda untuk menyimpan progres eksperimen.</p>
            </div>
            <div class="modal-body">
                <form id="loginForm" class="auth-form" autocomplete="on">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" name="email" required placeholder="anda@example.com">
                    <label for="loginPassword">Kata Sandi</label>
                    <input type="password" id="loginPassword" name="password" required minlength="6" placeholder="Minimal 6 karakter">
                    <button type="submit" class="action-button primary">Masuk</button>
                </form>
                <form id="registerForm" class="auth-form hidden" autocomplete="on">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" name="email" required placeholder="anda@example.com">
                    <label for="registerPassword">Kata Sandi</label>
                    <input type="password" id="registerPassword" name="password" required minlength="6" placeholder="Minimal 6 karakter">
                    <label for="registerPasswordConfirm">Konfirmasi Kata Sandi</label>
                    <input type="password" id="registerPasswordConfirm" name="passwordConfirm" required minlength="6" placeholder="Ulangi kata sandi">
                    <button type="submit" class="action-button primary">Daftar</button>
                </form>
            </div>
            <footer class="modal-footer">
                <p id="authToggleText">Belum punya akun? <button id="authToggleButton" class="ghost-button" type="button">Daftar</button></p>
            </footer>
            <div id="authFeedback" role="status" class="auth-feedback" aria-live="polite"></div>
        </div>
    </div>

    <script src="script.js" defer></script>
</body>
</html>
