<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SimuLab Bandul</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="top-nav">
        <div class="nav-left">
            <a class="brand" href="index.html" title="Beranda SimuLab">
                <span class="logo-dot"></span>
                <span>SimuLab</span>
            </a>
            <span id="userDisplay" class="user-badge is-hidden" aria-live="polite"></span>
        </div>
        <ul class="nav-links">
            <li><a class="link" href="pendulum.html">Bandul</a></li>
            <li><a class="link" href="freefall.html">Jatuh Bebas</a></li>
            <li><a class="link" href="projectile.html">Meriam</a></li>
            <li><a class="link" href="profile.html">Profil</a></li>
            <li><button id="authButton" class="link" type="button">Masuk</button></li>
            <li><button id="logoutButton" class="link hidden" type="button">Keluar</button></li>
        </ul>
    </nav>

    <main class="view-container">
        <header class="experiment-hero">
            <div class="experiment-intro">
                <span class="badge accent">Bandul</span>
                <h1>Eksperimen Bandul Sederhana</h1>
                <p>TPB ITB • Penentuan percepatan gravitasi melalui periode ayunan terukur.</p>
                <div class="experiment-meta">
                    <div class="meta-item">
                        <div class="icon-circle small" aria-hidden="true">🎯</div>
                        <div>
                            <strong>Tujuan</strong>
                            <p>Mengestimasi g dari rata-rata periode 10 osilasi.</p>
                        </div>
                    </div>
                    <div class="meta-item">
                        <div class="icon-circle small" aria-hidden="true">⚙️</div>
                        <div>
                            <strong>Parameter</strong>
                            <p>Panjang tali (L), sudut awal, dan massa beban.</p>
                        </div>
                    </div>
                    <a href="index.html" class="text-link">← Kembali ke Landing</a>
                </div>
            </div>
            <aside class="experiment-cta">
                <div class="saved-progress" id="savedPendulumCard">
                    <h3>Rangkuman Progres Tersimpan</h3>
                    <p id="savedPendulumSummary">Masuk untuk menyimpan progres eksperimen. Mode tamu tidak menyinkronkan hasil.</p>
                    <button id="syncNowButton" class="action-button outline" type="button">Sinkronkan Sekarang</button>
                </div>
            </aside>
        </header>

        <div class="lab-container">
            <section class="simulation-area">
                <canvas id="pendulumCanvas" width="800" height="600">
                    Browser Anda tidak mendukung Canvas HTML5.
                </canvas>
                <div id="info-overlay">
                    <p>Panjang Tali (L): <span id="displayL">1.0</span> m</p>
                    <p>Periode (T): <span id="displayT">0.00</span> s</p>
                    <p>Gravitasi (g) saat ini: 9.81 m/s²</p>
                </div>
            </section>

            <aside class="control-panel">
                <div class="quick-insight">
                    <h3>Insight Cepat</h3>
                    <ul class="bullet-list">
                        <li>Panjang tali lebih besar → periode meningkat proporsional √L.</li>
                        <li>Sudut kecil (&lt; 15°) menjaga asumsi gerak harmonik sederhana.</li>
                        <li>Catat minimal 3 percobaan untuk rata-rata g yang stabil.</li>
                    </ul>
                </div>

                <section class="quiz-card" id="pendulumQuiz" aria-live="polite">
                    <h3>Quiz Bandul</h3>
                    <p id="pendulumQuizPrompt">Gunakan simulasi untuk menghitung jawaban dari soal yang muncul secara acak.</p>
                    <div class="quiz-input">
                        <label for="pendulumQuizAnswer">Jawaban Anda (detik)</label>
                        <input type="number" id="pendulumQuizAnswer" step="0.01" min="0" placeholder="0.00" disabled>
                    </div>
                    <div class="quiz-actions">
                        <button id="pendulumQuizSubmit" class="action-button primary" type="button" disabled>Kirim Jawaban</button>
                        <button id="pendulumQuizRefresh" class="action-button secondary" type="button" disabled>Soal Baru</button>
                    </div>
                    <p id="pendulumQuizFeedback" class="quiz-feedback" role="status"></p>
                    <div id="pendulumQuizStats" class="quiz-stats">
                        <span>Upaya: <strong data-quiz-attr="attempts">0</strong></span>
                        <span>Benar: <strong data-quiz-attr="correct">0</strong> • Salah: <strong data-quiz-attr="incorrect">0</strong></span>
                    </div>
                </section>

                <h2>Kontrol Eksperimen</h2>

                <div class="control-group">
                    <label for="lengthSlider">Panjang Tali (L):</label>
                    <input type="range" id="lengthSlider" min="0.5" max="2.5" step="0.05" value="1.0">
                    <span id="currentLength">1.00 m</span>
                </div>

                <div class="control-group">
                    <label for="angleSlider">Sudut Awal (θ₀):</label>
                    <input type="range" id="angleSlider" min="5" max="30" step="1" value="10">
                    <span id="currentAngle">10°</span>
                </div>

                <div class="control-group">
                    <label for="massSlider">Massa Beban (m):</label>
                    <input type="range" id="massSlider" min="0.1" max="1.0" step="0.1" value="0.5">
                    <span id="currentMass">0.5 kg</span>
                    <p class="note">Catatan: Massa tidak memengaruhi periode dalam model ideal ini.</p>
                </div>

                <button id="startStopButton" class="action-button primary" type="button">Mulai Eksperimen (10 osilasi)</button>
                <button id="resetButton" class="action-button secondary" type="button">Reset Simulasi</button>
                <button id="clearDataButton" class="action-button danger" type="button">Hapus Data</button>

                <h2 style="margin-top: 20px;">Data Hasil Eksperimen</h2>
                <div class="table-scroll">
                    <table>
                        <thead>
                            <tr>
                                <th>No.</th>
                                <th>L (m)</th>
                                <th>T₁₀ (s)</th>
                                <th>T (s)</th>
                                <th>g (m/s²)</th>
                            </tr>
                        </thead>
                        <tbody id="resultsTableBody"></tbody>
                    </table>
                </div>
                <div id="averageG">
                    <p>Rata-rata g: <span id="avgGValue">--</span> m/s²</p>
                </div>
                <div class="control-footer">
                    <p class="note">Masuk agar progres tersimpan di akun SimuLab Anda. Sebagai tamu, data hanya terlihat selama sesi ini.</p>
                    <a href="index.html" class="text-link">← Kembali ke Landing</a>
                </div>
            </aside>
        </div>
    </main>

    <footer class="site-footer">
    <p>© 2025 SimuLab</p>
    </footer>

    <script src="script.js" defer></script>
</body>
</html>
